(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{12:function(t,e,n){t.exports={form:"ContactsForm_form__31YwQ",label:"ContactsForm_label__1rLX_",input:"ContactsForm_input__3HKjT",btn:"ContactsForm_btn__3vmeW",error:"ContactsForm_error__1tKzs"}},18:function(t,e,n){t.exports={listItem:"ContactsList_listItem__1r6vE",name:"ContactsList_name__1295c",number:"ContactsList_number__2rFRF",btn:"ContactsList_btn__3_ya6"}},19:function(t,e,n){t.exports={container:"App_container__fCLbN",title:"App_title__2o9DX",subtitle:"App_subtitle__2q_eK",btn:"App_btn__3LZyV",bth:"App_bth__McOdd"}},25:function(t,e,n){t.exports={label:"ContactsFilter_label__3gILJ",input:"ContactsFilter_input__X-5eJ"}},27:function(t,e,n){t.exports={Overlay:"Modal_Overlay__3JPnA",modal:"Modal_modal__2L3iQ"}},81:function(t,e,n){},83:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n.n(c),r=n(11),o=n.n(r),s=n(10),u=n(6),i=n(2),l=n.n(i),b=n(9),j=n(17),d=n.n(j),f=n(4),O=Object(f.b)("contacts/fetchContactsRequest"),m=Object(f.b)("contacts/fetchContactsSuccess"),p=Object(f.b)("contacts/fetchContactsError"),_=Object(f.b)("contacts/addContactRequest"),h=Object(f.b)("contacts/addContactSuccess"),v=Object(f.b)("contacts/addContactError"),x=Object(f.b)("contacts/deleteContactRequest"),C=Object(f.b)("contacts/deleteContactSuccess"),y=Object(f.b)("contacts/deleteContactError"),N=Object(f.b)("contacts/changeFilter");d.a.defaults.baseURL="http://localhost:4040";var w=function(){return function(){var t=Object(b.a)(l.a.mark((function t(e){var n,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(O()),t.prev=1,t.next=4,d.a.get("/contacts");case 4:return n=t.sent,c=n.data,t.abrupt("return",e(m(c)));case 9:t.prev=9,t.t0=t.catch(1),e(p(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},g=n(21),k=function(t){return t.contacts.items},E=function(t){return t.contacts.filter},L=Object(g.a)([k,E],(function(t,e){return function(t){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))}(t)})),F=n(1),S=function(t){var e=t.onClick,n=t.className,c=t.value,a=t.type;return Object(F.jsx)("button",{onClick:e,className:n,type:a,children:c})},A=n(18),q=n.n(A),I=function(){var t=Object(u.b)();Object(c.useEffect)((function(){t(w())}),[t]);var e=Object(u.c)(L),n=function(e){return t(function(t){return function(){var e=Object(b.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(x()),e.prev=1,e.next=4,d.a.delete("/contacts/".concat(t));case 4:return e.abrupt("return",n(C(t)));case 7:e.prev=7,e.t0=e.catch(1),n(y(e.t0));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()}(e))};return Object(F.jsx)("ul",{children:e.map((function(t){var e=t.id,c=t.name,a=t.number;return Object(F.jsxs)("li",{className:q.a.listItem,children:[Object(F.jsxs)("span",{className:q.a.name,children:[c,":"]}),Object(F.jsx)("span",{className:q.a.number,children:a}),Object(F.jsx)(S,{type:"button",className:q.a.btn,onClick:function(){return n(e)},value:"Delete"})]},e)}))})},J=n(25),P=n.n(J),R=function(){var t=Object(u.c)(E),e=Object(u.b)();return Object(F.jsxs)("label",{className:P.a.label,children:["Find contact",Object(F.jsx)("input",{className:P.a.input,type:"text",value:t,onChange:function(t){return e(N(t.target.value))}})]})},K=n(26),M=n.n(K),T=n(12),B=n.n(T),X=n(15),z=n(40),D=function(t){var e=t.onClose,n=Object(c.useState)(""),a=Object(s.a)(n,2),r=a[0],o=a[1],i=Object(c.useState)(""),j=Object(s.a)(i,2),f=j[0],O=j[1],m=M.a.generate(),p=M.a.generate(),x=Object(u.b)(),C=Object(u.c)(k),y=Object(z.a)(),N=y.register,w=y.handleSubmit,g=function(t){var e=t.target,n=e.name,c=e.value;switch(n){case"name":o(c);break;case"number":O(c);break;default:return}},E=function(){o(""),O("")};return Object(F.jsxs)("form",{onSubmit:w((function(){if(""!==r)if(""!==f){if(C.find((function(t){return t.name===r})))return X.b.error("".concat(r," is already exists")),void E();var t,n;x((t=r,n=f,function(){var e=Object(b.a)(l.a.mark((function e(c){var a,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={name:t,number:n},c(_()),e.prev=2,e.next=5,d.a.post("/contacts",a);case 5:return r=e.sent,o=r.data,e.abrupt("return",c(h(o)));case 10:e.prev=10,e.t0=e.catch(2),c(v(e.t0));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}())),E(),e()}else X.b.error("Enter contact number");else X.b.error("Enter contact name")})),className:B.a.form,children:[Object(F.jsxs)("label",{htmlFor:m,className:B.a.label,children:["Name",Object(F.jsx)("input",{ref:N,className:B.a.input,type:"text",name:"name",value:r,onChange:g,id:m})]}),Object(F.jsxs)("label",{htmlFor:p,className:B.a.label,children:["Phone Number",Object(F.jsx)("input",{ref:N,className:B.a.input,type:"text",name:"number",value:f,onChange:g,id:p})]}),Object(F.jsx)(S,{type:"submit",className:B.a.btn,value:"Create contact"})]})},H=(n(80),n(27)),Q=n.n(H),U=document.querySelector("#modal-root"),V=function(t){var e=t.onClose,n=t.children;Object(c.useEffect)((function(){return window.addEventListener("keydown",a),function(){window.removeEventListener("keydown",a)}}));var a=function(t){"Escape"===t.code&&e()};return Object(r.createPortal)(Object(F.jsx)("div",{className:Q.a.Overlay,onClick:function(t){t.currentTarget===t.target&&e()},children:Object(F.jsx)("div",{className:Q.a.modal,children:n})}),U)},W=n(19),Y=n.n(W);var Z,G=function(){var t=Object(c.useState)(!1),e=Object(s.a)(t,2),n=e[0],a=e[1],r=Object(u.c)(k),o=Object(u.c)(L),i=Object(u.b)(),l=function(){return a(!n)};return Object(c.useEffect)((function(){i(w())}),[i]),Object(F.jsxs)("div",{className:Y.a.container,children:[Object(F.jsx)("h1",{className:Y.a.title,children:"PHONEBOOK"}),Object(F.jsx)(S,{onClick:l,className:Y.a.btn,value:"Add  contact"}),n&&Object(F.jsx)(V,{onClose:l,children:Object(F.jsx)(D,{onClose:l})}),Object(F.jsx)("h2",{className:Y.a.subtitle,children:"Contacts"}),r.length>1&&Object(F.jsx)(R,{}),o.length>0&&Object(F.jsx)(I,{}),Object(F.jsx)(X.a,{position:"top-center",autoClose:3e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0})]})},$=n(3),tt=n(13),et=n(39),nt=n.n(et),ct=n(7),at=n(5),rt=Object(f.c)([],(Z={},Object(ct.a)(Z,m,(function(t,e){return e.payload})),Object(ct.a)(Z,h,(function(t,e){var n=e.payload;return[].concat(Object($.a)(t),[n])})),Object(ct.a)(Z,C,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),Z)),ot=Object(f.c)("",Object(ct.a)({},N,(function(t,e){return e.payload}))),st=Object(at.c)({items:rt,filter:ot}),ut=[].concat(Object($.a)(Object(f.d)({serializableCheck:{ignoredActions:[tt.a,tt.f,tt.b,tt.c,tt.d,tt.e]}})),[nt.a]),it=Object(f.a)({reducer:{contacts:st},middleware:ut,devTools:!1});n(81),n(82);o.a.render(Object(F.jsx)(a.a.StrictMode,{children:Object(F.jsx)(u.a,{store:it,children:Object(F.jsx)(G,{})})}),document.getElementById("root"))}},[[83,1,2]]]);
//# sourceMappingURL=main.3ab505f2.chunk.js.map